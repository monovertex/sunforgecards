language: node_js
node_js:
- '6'
before_install:
- openssl aes-256-cbc -k "$deploy_rsa_key" -in deploy_rsa.enc -out deploy_rsa -d
- openssl aes-256-cbc -k "$deploy_key" -in deploy.sh.enc -out deploy.sh -d
- openssl aes-256-cbc -k "$credentials_key" -in app/credentials.js.enc -out app/credentials.js -d
install:
- npm install
script:
- node app/crawler
- grunt prod
after_success:
- zip -r dist.zip app data dist package.json deploy.sh
env:
  global:
  - secure: fpVO6ragfaTdIreQjkJzUMVGPYoofoLvzAWPauP6H6+eoqD1pMM2iyX6nq/i//ImQhluaDda734Ui2qfp0QziaRfQQpkmwlSkzUUVRFVDdJfueBW8l3lMJjadvpCqjLD8SipvCS8cnXqNBxpgAllQyANirN3IXynLtG3/XCa4OiHS22932K3ChBprtuHUzKoZawoZzgtXf4zKUZviQ5tJ4hvPeiy2N0PkpAmK0HlQkYx4DF4R2KV67V8MvCJQDsjBk0YZ/rCnWE8vFY8oGyfXmFwguqhrdtJJHPpGsekihtGRpva2KXbNGO+Z4VxXNmWKT1pJucL/LlpN4tNtoMs5cNEj8Az8SoJ5yoTYM9XfO5N/3GAuIBq0dA4I8aqS83+qn9dKczYAD1oUGDuy8OE+kUQVFrykJrUwD3Um/U90fWGkkYYGV5dKY4a/qa/jYPDFSLKy8emy49RH+wWFRMraPkFS7Dxe3e77UdkECRunvMif80DHDiIjaHOEQfhfK0UTQrWjvK4zlqVdTCBniDoETWOvJetomi1prX13Z8QakPSUlukor51Drt3OfeWMkT6nWDsK6KIBEe0yjIka4iYiDN5KzRlrQ7XkWcR4TRLrFowiIAlEu3lh4kLU+VfqPeGiLGF7M6hFjYZR9PvyAq2ObXvsheg10zrLN3wQdamtGs=
  - secure: ykpYbY7VAw2nd0ZnGsZgVhzjidQidKt19WYqQLE1pG6wrO6Fny08WZ9+hKDsUkBkLd7LKe4ttfkNEMUIpfQZSmcj6NaRYVqelIxtfS4QlGgbhgZdfFE5tdYlero1x92ArE5j0gCaRrJgMwTu0IldR3enCBPo7rNIAoz3NB113r1G4bg6jij5jybOPD/vO9xjGWhKAImyQl3Bovpefswab5aNoFYeHtK64PW5UVjLow211ZNvwUI2nNi2lgrOd410i0pli2D9N1RK5163uRcOXcVckX0ZCDR3UVnyEuUBq05oQHbSSvLwhKbR/iYLXp5MhKPu716zv+TucgUP6a9VbNYTt5880tPeduIlDV2z1o//XaRpJ5qHj6kx0eVsP03O6Jk1E4sj2ovcR518hJcZos1uWhWN83Pi4Odi2p0zDiduCKhy2xVgm9o5eg5FYpUn/VAe8bmeiFYomOCSV3svwoeqkzqr1ES9XsLUXUTQHSdorzfN/wecz7NXSM+kG+cm8YDCroOBe5Kxco7EcpyJiACSxH0J8w0YyVKcFaSY05S8HVbYZYV8K+NFCExisNjMy0qLwkwHSVcV6g62ez4NPvDKcgiEkesAusSOgJF5aGoiw+bWqSZkdOL7XLasu7KE65EBPzuj4WTu1cckYKzb5GUeyPzmJoWukFY+evnEiPU=
  - secure: VHRpM/rtwlqAPSp7CtK58gVkbTNttfHgduEQ9eV4VpsjBugHppUgW5NZ6sI3Phq3dySz7wjfXbB1d2QdkHXGPO7ebvHn1x4yWDSw2ENhC1qd/i3eYbAXq2cJSkjwK7llFd+yPDT4yHsweqEwVozL2KY/eKM7VbvGvKzpHR6TViZbmWyjZ3R1q7M9Hb65eFO0M4G/ngAsTbWzCXn4WmrcosdaOH94qXO6eioYxCX3x2mvV041+zzNFWvSWQM7s4lmmTiT2HeXsfzy/Fv3fKWZkluHMwRPRRQuHR6MsVO6baVO5iiTk6TLCJzDILuvfD73mPvn84ggvczx3O4vdsSts5otipgpX3ewTsb7F/6mp8uwXtIUd6HKcwuTSafcMd2e1jCVVtHr5hKMNPPPukcHRtmIONtl7W15lgYLw5GRTcmLc45om3CL915MvDGyPyZ+1wGg5ykwhEs8LUilq39z1MC+XJzLigxgAilgSoSvWhtRmr4erfP4Jwx2wJ7i45O2B1m76ytaAui4fIYu4ueiPYAJX1yhl3m7Axrvnc6pmk59tpPej8g0ZMVEdbgI+qmQrOtuuXGQ7zb1ot6pX8YAK0OdWFZJHWgG4l3bRqAVc0OW2pgzYEXHfZiiBzRAHmeHUsBD1uI0K7GzVDaWMsVUgo66UJPnd2hMOQF/tYPAELA=
